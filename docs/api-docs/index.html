<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>API Documentation - Apollo</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://burntcarrot.github.com/apollo/favicon.png><link rel=stylesheet href=/apollo/css/style.min.99a96745cff22103ab3fe956c3e13a2fd26cf188f9f7c370f272e8e7bb945081.css></head><body class="page page-default-single"><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-home><a href=/apollo/><span>Home</span></a></li><li class=menu-item-docs><a href=/apollo/docs/><span>Docs</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div class=logo><a href=https://burntcarrot.github.com/apollo><img alt=Logo src=/apollo/images/logo.svg></a></div><div class=logo-mobile><a href=https://burntcarrot.github.com/apollo><img alt=Logo src=/apollo/images/logo-mobile.svg></a></div><div id=main-menu class=main-menu><ul><li class=menu-item-home><a href=/apollo/><span>Home</span></a></li><li class=menu-item-docs><a href=/apollo/docs/><span>Docs</span></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="container pt-2 pt-md-6 pb-3 pb-md-6"><div class=row><div class="col-12 col-md-3 mb-3"><div class=sidebar><div class=docs-menu><h4>Docs</h4><ul><li class=active><a href=https://burntcarrot.github.com/apollo/docs/api-docs/>API Documentation</a></li><li><a href=https://burntcarrot.github.com/apollo/docs/config/>Configuration</a></li><li><a href=https://burntcarrot.github.com/apollo/docs/development/>Development</a></li><li><a href=https://burntcarrot.github.com/apollo/docs/sdk-docs/>SDK Documentation</a></li><li><a href=https://burntcarrot.github.com/apollo/docs/redis-sdk/>Redis SDK</a></li></ul></div></div></div><div class="col-12 col-md-9"><h1 class=title>API Documentation</h1><div class=content><p>Apollo Server exposes three endpoints:</p><ul><li><code>/api/register</code>: for registering a service</li><li><code>/api/health</code>: for retrieving health status of all services</li><li><code>/api/health/:id</code>: for retrieving health status of a certain service</li></ul><h2 id=routes>Routes</h2><h2 id=apiregister><code>/api/register</code></h2><p>Endpoint for registering a service to the Apollo server.</p><p>A service can be registered through:</p><ul><li>Apollo SDKs (for example, <code>apollo-go-redis</code>)</li><li>Manually through API clients, etc.</li></ul><p>The ideal way is to use Apollo SDKs. Integrate Apollo SDKs into your application to register new services to the Apollo server.</p><p><strong>Request Body Params</strong>:</p><ul><li><code>id</code>: ID for the service</li><li><code>name</code>: Service name</li><li><code>uri</code>: The <code>/health</code> endpoint exposed by the service</li></ul><p><strong>Example request</strong>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;id&#34;</span><span class=p>:</span> <span class=s2>&#34;26F5QP6q4UxImHkIr9miSHj3G3U&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Service_1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;uri&#34;</span><span class=p>:</span> <span class=s2>&#34;localhost:9989/health&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><hr><h2 id=apihealth><code>/api/health</code></h2><p>Endpoint for fetching health status of services registered to the Apollo server.</p><p>Example response:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;results&#34;</span><span class=p>:{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// TODO:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><hr><h2 id=apihealthid><code>/api/health/:id</code></h2><p>Endpoint for fetching health status of a <strong>certain</strong> service registered to the Apollo server.</p><p><strong>Params</strong>:</p><ul><li><code>id</code>: The unique ID for the service (KSUID)</li></ul><p>Example response:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;results&#34;</span><span class=p>:{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// TODO:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class=col-12><div class=sub-footer-inner><ul><li class=deepsource><a href=https://www.deepsource.io>deepsource.io</a></li></ul></div></div></div></div></div><script type=text/javascript src=/apollo/js/scripts.min.bafc052229b4b40bf03c477d31c5cdd9352ece8afbadf35ab97ed14495098fc9.js></script></body></html>